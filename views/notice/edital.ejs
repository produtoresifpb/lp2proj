<head>
    <link rel="stylesheet" href="/stylesheets/edital.css">
    <script defer src="/javascripts/notice.js"></script>
</head>

<main>
    <div id="content" , name="content" , class="main">
        <div class="row justify-content-center">
            <div class="col-11">
                <div class="box-bar">
                    <div class="row row-cols-auto">
                        <p class="col-8">Buscando por: <span>Editais recentes</span></p>
                        <button class="btn">
                            <span onclick="filterNotice()" class="col">Filtrar <i class="bi bi-filter"></i></span>
                        </button>
                        <form class="d-flex col-3" role="search" id="buscar-edital" enctype="application/x-www-form-urlencoded">
                            <input class="form-control me-2" type="search" id="busca" name="busca" placeholder="Buscar por editais"
                                aria-label="Search" id="busca-parametro"/>
                            <button class="btn btn-outline-success" type="submit">
                                <i class="fa-solid fa-magnifying-glass"></i>
                            </button>
                        </form>
                    </div>
                </div>
                <div class="container-edital">
                    <ul class="list-group list-group-flush" id="editais">
                        <span class="list-group-item" style="background-color: #64375e; color: white">
                        </span>
                        <li class="list-group-item list-group-item-secondary" aria-current="true">
                            <h4>Editais publicados</h4>
                        </li>
                        <% if (!editais.length) { %>
                            <li class="list-group-item">
                                <p>Nenhum edital encontrado</p>
                            </li>
                        <% } else { %>
                            <% editais.forEach((el, i) => { %>
                                <li class="list-group-item">
                                    <button onclick="openNotice(Number('<%= i %>'))">
                                        <a href="#" class="link-underline link-underline-opacity-0">
                                            <h4 class="text-black">>> Edital nÂ° <%= i + 1 %> - <%= el.author %></h4>
                                        </a>
                                    </button>
                                    <p class="text-body" style="font-size: 16px;"><%= el.description %></p>
                                </li>
                            <% }); %>
                        <% } %>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div id="editalOverlay" class="overlay hidden">
        <div class="overlay-content">
            <span class="close-btn" onclick="closeNotice()">&times;</span>
            <h4 id="editalTitle"></h4>
            <p id="editalDescription"></p>
        </div>
    </div>
</main>
<script defer>
    const editais = JSON.parse('<%- JSON.stringify(editais) %>');
</script>
